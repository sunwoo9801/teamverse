{"ast":null,"code":"var _jsxFileName = \"C:\\\\project2\\\\teamverse-2-boot,react - \\uC791\\uC5C5\\\\src\\\\pages\\\\TaskPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\"; // ‚úÖ useNavigate Ï∂îÍ∞Ä\nimport axios from \"axios\";\nimport { getAccessToken, refreshAccessToken } from \"../utils/authUtils\"; // ‚úÖ refreshToken ÌôúÏö©\nimport TaskModal from \"../components/TaskModal\"; // ‚úÖ Î™®Îã¨Ï∞Ω Ïª¥Ìè¨ÎÑåÌä∏ Ï∂îÍ∞Ä\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TaskPage = () => {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate(); // ‚úÖ Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô Í∏∞Îä• Ï∂îÍ∞Ä\n  const queryParams = new URLSearchParams(location.search);\n  const projectId = queryParams.get(\"projectId\");\n  const [project, setProject] = useState(null); // ‚úÖ ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥ Ï†ÄÏû•\n  const [loading, setLoading] = useState(true); // ‚úÖ Î°úÎî© ÏÉÅÌÉú Ï∂îÍ∞Ä\n  const [error, setError] = useState(null); // ‚úÖ ÏóêÎü¨ ÏÉÅÌÉú Ï∂îÍ∞Ä\n  const [isModalOpen, setIsModalOpen] = useState(false); // ‚úÖ Î™®Îã¨Ï∞Ω ÏÉÅÌÉú Í¥ÄÎ¶¨\n\n  // ‚úÖ ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§Îäî Ìï®Ïàò\n  const fetchProject = async (retry = true) => {\n    if (!projectId) {\n      setError(\"‚ùå ÌîÑÎ°úÏ†ùÌä∏ IDÍ∞Ä ÏóÜÏäµÎãàÎã§.\");\n      setLoading(false);\n      return;\n    }\n    let token = getAccessToken(); // ‚úÖ ÌòÑÏû¨ ÌÜ†ÌÅ∞ Í∞ÄÏ†∏Ïò§Í∏∞\n    if (!token) {\n      console.warn(\"‚ùå accessTokenÏù¥ ÏóÜÏäµÎãàÎã§. refreshTokenÏùÑ ÏÇ¨Ïö©ÌïòÏó¨ Ïû¨Î∞úÍ∏â ÏãúÎèÑ...\");\n      token = await refreshAccessToken(); // ‚úÖ ÏÉàÎ°úÏö¥ accessToken ÏöîÏ≤≠\n      if (!token) {\n        alert(\"Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.\");\n        navigate(\"/login\"); // ‚úÖ Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô\n        return;\n      }\n    }\n    try {\n      console.log(`üì° ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥ ÏöîÏ≤≠: /api/user/projects/${projectId}`);\n      const response = await axios.get(`http://localhost:8082/api/user/projects/${projectId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        },\n        withCredentials: true // ‚úÖ Ïø†ÌÇ§ Ïù∏Ï¶ù Ìè¨Ìï®\n      });\n      console.log(\"‚úÖ ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥ ÏùëÎãµ:\", response.data);\n      setProject(response.data);\n      setLoading(false);\n    } catch (error) {\n      var _error$response;\n      console.error(\"‚ùå ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§Îäî Îç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§:\", error);\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401 && retry) {\n        console.warn(\"üîÑ accessTokenÏù¥ ÎßåÎ£åÎê®. refreshTokenÏúºÎ°ú Ïû¨ÏãúÎèÑ...\");\n        const newToken = await refreshAccessToken();\n        if (newToken) {\n          fetchProject(false); // ‚úÖ Ìïú Î≤àÎßå Ïû¨ÏãúÎèÑ\n        } else {\n          alert(\"Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.\");\n          navigate(\"/login\"); // ‚úÖ Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô\n        }\n      } else {\n        setError(\"‚ùå ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.\");\n        setLoading(false);\n      }\n    }\n  };\n\n  // ‚úÖ ÌéòÏù¥ÏßÄÍ∞Ä Î°úÎìúÎê† Îïå ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞\n  useEffect(() => {\n    fetchProject();\n  }, [projectId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [loading ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uB85C\\uB529 \\uC911...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: project ? project.name : \"ÌîÑÎ°úÏ†ùÌä∏ ÏóÜÏùå\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this) // ‚úÖ ÌîÑÎ°úÏ†ùÌä∏ Ïù¥Î¶Ñ ÌëúÏãú\n    , projectId && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\uD504\\uB85C\\uC81D\\uD2B8 ID: \", projectId]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setIsModalOpen(true),\n      children: \"+ \\uC5C5\\uBB34 \\uCD94\\uAC00\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), isModalOpen && /*#__PURE__*/_jsxDEV(TaskModal, {\n      onClose: () => setIsModalOpen(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n_s(TaskPage, \"uS/j7hdd/QB3yATpM5TSIF2hUXo=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = TaskPage;\nexport default TaskPage;\nvar _c;\n$RefreshReg$(_c, \"TaskPage\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","axios","getAccessToken","refreshAccessToken","TaskModal","jsxDEV","_jsxDEV","TaskPage","_s","location","navigate","queryParams","URLSearchParams","search","projectId","get","project","setProject","loading","setLoading","error","setError","isModalOpen","setIsModalOpen","fetchProject","retry","token","console","warn","alert","log","response","headers","Authorization","withCredentials","data","_error$response","status","newToken","children","fileName","_jsxFileName","lineNumber","columnNumber","name","onClick","onClose","_c","$RefreshReg$"],"sources":["C:/project2/teamverse-2-boot,react - ÏûëÏóÖ/src/pages/TaskPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\"; // ‚úÖ useNavigate Ï∂îÍ∞Ä\r\nimport axios from \"axios\";\r\nimport { getAccessToken, refreshAccessToken } from \"../utils/authUtils\"; // ‚úÖ refreshToken ÌôúÏö©\r\nimport TaskModal from \"../components/TaskModal\"; // ‚úÖ Î™®Îã¨Ï∞Ω Ïª¥Ìè¨ÎÑåÌä∏ Ï∂îÍ∞Ä\r\n\r\n\r\nconst TaskPage = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate(); // ‚úÖ Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô Í∏∞Îä• Ï∂îÍ∞Ä\r\n  const queryParams = new URLSearchParams(location.search);\r\n  const projectId = queryParams.get(\"projectId\");\r\n\r\n  const [project, setProject] = useState(null); // ‚úÖ ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥ Ï†ÄÏû•\r\n  const [loading, setLoading] = useState(true); // ‚úÖ Î°úÎî© ÏÉÅÌÉú Ï∂îÍ∞Ä\r\n  const [error, setError] = useState(null); // ‚úÖ ÏóêÎü¨ ÏÉÅÌÉú Ï∂îÍ∞Ä\r\n  const [isModalOpen, setIsModalOpen] = useState(false); // ‚úÖ Î™®Îã¨Ï∞Ω ÏÉÅÌÉú Í¥ÄÎ¶¨\r\n\r\n\r\n  // ‚úÖ ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§Îäî Ìï®Ïàò\r\n  const fetchProject = async (retry = true) => {\r\n    if (!projectId) {\r\n      setError(\"‚ùå ÌîÑÎ°úÏ†ùÌä∏ IDÍ∞Ä ÏóÜÏäµÎãàÎã§.\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    let token = getAccessToken(); // ‚úÖ ÌòÑÏû¨ ÌÜ†ÌÅ∞ Í∞ÄÏ†∏Ïò§Í∏∞\r\n    if (!token) {\r\n      console.warn(\"‚ùå accessTokenÏù¥ ÏóÜÏäµÎãàÎã§. refreshTokenÏùÑ ÏÇ¨Ïö©ÌïòÏó¨ Ïû¨Î∞úÍ∏â ÏãúÎèÑ...\");\r\n      token = await refreshAccessToken(); // ‚úÖ ÏÉàÎ°úÏö¥ accessToken ÏöîÏ≤≠\r\n      if (!token) {\r\n        alert(\"Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.\");\r\n        navigate(\"/login\"); // ‚úÖ Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô\r\n        return;\r\n      }\r\n    }\r\n\r\n    try {\r\n      console.log(`üì° ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥ ÏöîÏ≤≠: /api/user/projects/${projectId}`);\r\n      const response = await axios.get(`http://localhost:8082/api/user/projects/${projectId}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n        withCredentials: true, // ‚úÖ Ïø†ÌÇ§ Ïù∏Ï¶ù Ìè¨Ìï®\r\n      });\r\n\r\n      console.log(\"‚úÖ ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥ ÏùëÎãµ:\", response.data);\r\n      setProject(response.data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error(\"‚ùå ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§Îäî Îç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§:\", error);\r\n\r\n      if (error.response?.status === 401 && retry) {\r\n        console.warn(\"üîÑ accessTokenÏù¥ ÎßåÎ£åÎê®. refreshTokenÏúºÎ°ú Ïû¨ÏãúÎèÑ...\");\r\n        const newToken = await refreshAccessToken();\r\n        if (newToken) {\r\n          fetchProject(false); // ‚úÖ Ìïú Î≤àÎßå Ïû¨ÏãúÎèÑ\r\n        } else {\r\n          alert(\"Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.\");\r\n          navigate(\"/login\"); // ‚úÖ Î°úÍ∑∏Ïù∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô\r\n        }\r\n      } else {\r\n        setError(\"‚ùå ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.\");\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  // ‚úÖ ÌéòÏù¥ÏßÄÍ∞Ä Î°úÎìúÎê† Îïå ÌîÑÎ°úÏ†ùÌä∏ Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞\r\n  useEffect(() => {\r\n    fetchProject();\r\n  }, [projectId]);\r\n\r\n  return (\r\n    <div>\r\n      {loading ? (\r\n        <h1>Î°úÎî© Ï§ë...</h1>\r\n      ) : error ? (\r\n        <h1>{error}</h1>\r\n      ) : (\r\n        <h1>{project ? project.name : \"ÌîÑÎ°úÏ†ùÌä∏ ÏóÜÏùå\"}</h1> // ‚úÖ ÌîÑÎ°úÏ†ùÌä∏ Ïù¥Î¶Ñ ÌëúÏãú\r\n      )}\r\n      {projectId && <p>ÌîÑÎ°úÏ†ùÌä∏ ID: {projectId}</p>}\r\n\r\n      {/* ‚úÖ \"ÏóÖÎ¨¥ Ï∂îÍ∞Ä\" Î≤ÑÌäº */}\r\n      <button onClick={() => setIsModalOpen(true)}>+ ÏóÖÎ¨¥ Ï∂îÍ∞Ä</button>\r\n\r\n      {/* ‚úÖ TaskModal Ïª¥Ìè¨ÎÑåÌä∏ (Î™®Îã¨Ï∞Ω) */}\r\n      {isModalOpen && <TaskModal onClose={() => setIsModalOpen(false)} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}